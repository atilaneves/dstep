name "test_package"
description "Tests that dstep can be used as a library"
authors "Atila Neves"
copyright "Copyright Â© 2017, Atila Neves"
license "boost"
targetType "executable"
dependency "dstep" path=".."
subConfiguration "dstep" "library"
importPaths ".."
// actual projects would probably just have
// `libs "clang"` but since this will run under dstep's CI
// we copy the linker flags here
lflags "@../linker_flags.txt" platform="posix"
lflags "/LIBPATH:C:\\Program Files (x86)\\LLVM\\lib" "libclang.lib" "Ole32.lib" platform="windows-x86"
lflags "/LIBPATH:C:\\Program Files\\LLVM\\lib" "libclang.lib" "Ole32.lib" platform="windows-x86_64"
preBuildCommands "dir C:\\Program Files (x86)\\LLVM\\lib" platform="windows-x86"
